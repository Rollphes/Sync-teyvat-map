'use strict';const a2_0x758a51=a2_0x57f9;(function(_0x2f47b4,_0x4d5619){const _0x36226f=a2_0x57f9,_0x3d747f=_0x2f47b4();while(!![]){try{const _0x320835=parseInt(_0x36226f(0x20a))/0x1+-parseInt(_0x36226f(0x207))/0x2+-parseInt(_0x36226f(0x20c))/0x3+-parseInt(_0x36226f(0x1ec))/0x4*(-parseInt(_0x36226f(0x208))/0x5)+-parseInt(_0x36226f(0x1f2))/0x6*(parseInt(_0x36226f(0x1f8))/0x7)+parseInt(_0x36226f(0x1f6))/0x8+-parseInt(_0x36226f(0x215))/0x9*(-parseInt(_0x36226f(0x1e3))/0xa);if(_0x320835===_0x4d5619)break;else _0x3d747f['push'](_0x3d747f['shift']());}catch(_0x59d7ec){_0x3d747f['push'](_0x3d747f['shift']());}}}(a2_0x500e,0x7a4cd));function a2_0x500e(){const _0x45eafd=['atan','Point2','__esModule','BFMatcher','throw','readFileSync','@u4/opencv4nodejs','imreadAsync','catch','__importDefault','floor','trainIdx','ImgDescriptors.dat','value','norm','message','send','parse','connection','configurable','sort','map','10zDQerb','resize','Vec2','defineProperty','name','push','abs','class_id','length','4Yywgcu','angle','__awaiter','Mat','NORM_HAMMING2','queryIdx','24jTcpua','prototype','opencvBinDir','__setModuleDefault','1743536OpCjyg','data\x5c','490847zFYLqs','size','KeyPoint','default','Rect','sougan','enkanomiya','__createBinding','screenshot-desktop','toString','octave','dist','utf-8','mul','match','1949224FsdFcu','3326340fjyEPs','OpenCVBuildEnv','669077zszfHi','done','690627mJQCIu','minDeg','distance','slice','img\x5ct.png','add','app','descriptorMatchsJ','writable','3905631ufEarG','apply','env','ImgKeyPoints.dat','split','rows','get','next','AKAZEDetector','detectAsync','getOwnPropertyDescriptor','center=','hasOwnProperty'];a2_0x500e=function(){return _0x45eafd;};return a2_0x500e();}var __createBinding=this&&this[a2_0x758a51(0x1ff)]||(Object['create']?function(_0x1bde87,_0x790d70,_0xaaffab,_0x407273){const _0x4ed656=a2_0x758a51;if(_0x407273===undefined)_0x407273=_0xaaffab;var _0x278d42=Object[_0x4ed656(0x21f)](_0x790d70,_0xaaffab);(!_0x278d42||(_0x4ed656(0x21b)in _0x278d42?!_0x790d70['__esModule']:_0x278d42[_0x4ed656(0x214)]||_0x278d42[_0x4ed656(0x1e0)]))&&(_0x278d42={'enumerable':!![],'get':function(){return _0x790d70[_0xaaffab];}}),Object[_0x4ed656(0x1e6)](_0x1bde87,_0x407273,_0x278d42);}:function(_0x5b9731,_0x29d3a1,_0x57f74a,_0x3718f1){if(_0x3718f1===undefined)_0x3718f1=_0x57f74a;_0x5b9731[_0x3718f1]=_0x29d3a1[_0x57f74a];}),__setModuleDefault=this&&this[a2_0x758a51(0x1f5)]||(Object['create']?function(_0x516543,_0x10130c){const _0xbbeda=a2_0x758a51;Object[_0xbbeda(0x1e6)](_0x516543,_0xbbeda(0x1fb),{'enumerable':!![],'value':_0x10130c});}:function(_0x396ddd,_0x5a5435){const _0x36c0d3=a2_0x758a51;_0x396ddd[_0x36c0d3(0x1fb)]=_0x5a5435;}),__importStar=this&&this['__importStar']||function(_0x23c0d6){const _0x167f0e=a2_0x758a51;if(_0x23c0d6&&_0x23c0d6['__esModule'])return _0x23c0d6;var _0x2719ab={};if(_0x23c0d6!=null){for(var _0x26b7be in _0x23c0d6)if(_0x26b7be!=='default'&&Object[_0x167f0e(0x1f3)][_0x167f0e(0x1cc)]['call'](_0x23c0d6,_0x26b7be))__createBinding(_0x2719ab,_0x23c0d6,_0x26b7be);}return __setModuleDefault(_0x2719ab,_0x23c0d6),_0x2719ab;},__awaiter=this&&this[a2_0x758a51(0x1ee)]||function(_0x42a539,_0x9d9aee,_0x5d0775,_0x2efe07){function _0x4257eb(_0x833372){return _0x833372 instanceof _0x5d0775?_0x833372:new _0x5d0775(function(_0x3b5767){_0x3b5767(_0x833372);});}return new(_0x5d0775||(_0x5d0775=Promise))(function(_0x29097e,_0x28ba20){const _0xaa4996=a2_0x57f9;function _0x3f63f8(_0x39bec2){const _0x2ef487=a2_0x57f9;try{_0x1abe19(_0x2efe07[_0x2ef487(0x21c)](_0x39bec2));}catch(_0x14b48f){_0x28ba20(_0x14b48f);}}function _0x4f5561(_0x3570c2){const _0x3d6f52=a2_0x57f9;try{_0x1abe19(_0x2efe07[_0x3d6f52(0x1d1)](_0x3570c2));}catch(_0x1d75ca){_0x28ba20(_0x1d75ca);}}function _0x1abe19(_0x537f04){const _0x4c52b6=a2_0x57f9;_0x537f04[_0x4c52b6(0x20b)]?_0x29097e(_0x537f04[_0x4c52b6(0x1da)]):_0x4257eb(_0x537f04[_0x4c52b6(0x1da)])['then'](_0x3f63f8,_0x4f5561);}_0x1abe19((_0x2efe07=_0x2efe07[_0xaa4996(0x216)](_0x42a539,_0x9d9aee||[]))['next']());});},__importDefault=this&&this[a2_0x758a51(0x1d6)]||function(_0x2f181f){return _0x2f181f&&_0x2f181f['__esModule']?_0x2f181f:{'default':_0x2f181f};};Object[a2_0x758a51(0x1e6)](exports,a2_0x758a51(0x1cf),{'value':!![]});function a2_0x57f9(_0x97a2dd,_0x483196){const _0x500eef=a2_0x500e();return a2_0x57f9=function(_0x57f990,_0x24846b){_0x57f990=_0x57f990-0x1cc;let _0x4da600=_0x500eef[_0x57f990];return _0x4da600;},a2_0x57f9(_0x97a2dd,_0x483196);}const opencvBuild=__importStar(require('@u4/opencv-build')),cv=__importStar(require(a2_0x758a51(0x1d3))),opencv4nodejs_1=require(a2_0x758a51(0x1d3)),fs=__importStar(require('fs')),screenshot_desktop_1=__importDefault(require(a2_0x758a51(0x200))),ws_1=require('ws');process['env']['OPENCV_BIN_DIR']=new opencvBuild['OpenCVBuildEnv']()[a2_0x758a51(0x1f4)],process[a2_0x758a51(0x217)]['path']+=';'+new opencvBuild[(a2_0x758a51(0x209))]()[a2_0x758a51(0x1f4)];const homePath=__dirname[a2_0x758a51(0x219)](a2_0x758a51(0x203))[0x0],resourcesPath=homePath[a2_0x758a51(0x219)](a2_0x758a51(0x212))[0x0],akaze=new opencv4nodejs_1[(a2_0x758a51(0x21d))](),wss=new ws_1['WebSocketServer']({'port':0x6cfc}),dimensions={0x2:{'name':a2_0x758a51(0x1e2),'x':0x1b5a,'y':0x466},0x7:{'name':a2_0x758a51(0x1fe),'x':0x745,'y':0x6f7},0x9:{'name':a2_0x758a51(0x1fd),'x':0x7eb,'y':0x7a6}};let clientDimension='2';const findMap=_0x5cb45a=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1c3879=a2_0x758a51;yield(0x0,screenshot_desktop_1[_0x1c3879(0x1fb)])({'filename':resourcesPath+_0x1c3879(0x210)});const _0x20e687=yield cv[_0x1c3879(0x1d4)](resourcesPath+_0x1c3879(0x210),cv['IMREAD_GRAYSCALE']),_0x59992c=new cv[(_0x1c3879(0x1fc))](Math[_0x1c3879(0x1d7)](_0x20e687['cols']*0.03125),Math['floor'](_0x20e687['rows']*0.01851),Math[_0x1c3879(0x1d7)](_0x20e687['rows']*0.19444),Math[_0x1c3879(0x1d7)](_0x20e687[_0x1c3879(0x21a)]*0.19444)),_0x4606ef=_0x20e687['getRegion'](_0x59992c)[_0x1c3879(0x1e4)](0x258,0x258),_0x58a690=yield akaze[_0x1c3879(0x21e)](_0x4606ef),_0x95c101=yield akaze['computeAsync'](_0x4606ef,_0x58a690),_0x153612=JSON[_0x1c3879(0x1de)](fs[_0x1c3879(0x1d2)](resourcesPath+(_0x1c3879(0x1f7)+_0x5cb45a[_0x1c3879(0x1e7)]+_0x1c3879(0x218)),_0x1c3879(0x204)))[_0x1c3879(0x1e2)](_0x184a31=>new cv[(_0x1c3879(0x1fa))](new cv[(_0x1c3879(0x1ce))](_0x184a31['pt']['x'],_0x184a31['pt']['y']),_0x184a31[_0x1c3879(0x1f9)],_0x184a31[_0x1c3879(0x1ed)],_0x184a31['response'],_0x184a31[_0x1c3879(0x202)],_0x184a31[_0x1c3879(0x1ea)])),_0x4992e2=new cv[(_0x1c3879(0x1ef))](JSON['parse'](fs[_0x1c3879(0x1d2)](resourcesPath+(_0x1c3879(0x1f7)+_0x5cb45a[_0x1c3879(0x1e7)]+_0x1c3879(0x1d9)),_0x1c3879(0x204))),0x0),_0x111f50=new cv[(_0x1c3879(0x1d0))](cv[_0x1c3879(0x1f0)]),_0x47d4b3=_0x111f50[_0x1c3879(0x206)](_0x95c101,_0x4992e2);if(_0x47d4b3[_0x1c3879(0x1eb)]===0x0)return;const _0x26affe=0x28,_0x4c06c5=_0x47d4b3[_0x1c3879(0x1e1)]((_0x22d040,_0x298d37)=>_0x22d040[_0x1c3879(0x20e)]-_0x298d37['distance'])['slice'](0x0,_0x26affe),_0x47c35e=[];for(let _0x363b90=0x0;_0x363b90<_0x4c06c5[_0x1c3879(0x1eb)]-0x1;_0x363b90++){const _0x5c33ee={'minDeg':0x168,'descriptorMatchsI':_0x4c06c5[_0x363b90]};for(let _0x2da88f=_0x363b90+0x1;_0x2da88f<_0x4c06c5[_0x1c3879(0x1eb)];_0x2da88f++){if(_0x363b90==_0x2da88f)continue;const _0x4bc699=Math[_0x1c3879(0x1cd)]((_0x153612[_0x4c06c5[_0x363b90][_0x1c3879(0x1d8)]]['pt']['y']-_0x153612[_0x4c06c5[_0x2da88f][_0x1c3879(0x1d8)]]['pt']['y'])/(_0x153612[_0x4c06c5[_0x363b90][_0x1c3879(0x1d8)]]['pt']['x']-_0x153612[_0x4c06c5[_0x2da88f][_0x1c3879(0x1d8)]]['pt']['x'])),_0x48944d=Math['atan']((_0x58a690[_0x4c06c5[_0x363b90]['queryIdx']]['pt']['y']-_0x58a690[_0x4c06c5[_0x2da88f]['queryIdx']]['pt']['y'])/(_0x58a690[_0x4c06c5[_0x363b90]['queryIdx']]['pt']['x']-_0x58a690[_0x4c06c5[_0x2da88f]['queryIdx']]['pt']['x']));let _0x607949=_0x4bc699*(0xb4/Math['PI'])%0x168,_0x2eb9ba=_0x48944d*(0xb4/Math['PI'])%0x168;_0x607949=_0x607949<0x0?0x168+_0x607949:_0x607949,_0x2eb9ba=_0x2eb9ba<0x0?0x168+_0x2eb9ba:_0x2eb9ba;const _0x1cfe86=Math[_0x1c3879(0x1e9)](_0x607949-_0x2eb9ba);if(isNaN(_0x1cfe86))continue;_0x5c33ee[_0x1c3879(0x20d)]>_0x1cfe86&&(_0x5c33ee[_0x1c3879(0x213)]=_0x4c06c5[_0x2da88f],_0x5c33ee[_0x1c3879(0x20d)]=_0x1cfe86);}if(_0x5c33ee[_0x1c3879(0x20d)]>0.1||_0x5c33ee['descriptorMatchsI'][_0x1c3879(0x20e)]>0x32)continue;_0x47c35e['push'](_0x5c33ee['descriptorMatchsI']);if(_0x5c33ee['descriptorMatchsJ']===undefined||_0x5c33ee['descriptorMatchsJ']['distance']>0x32)continue;_0x47c35e[_0x1c3879(0x1e8)](_0x5c33ee[_0x1c3879(0x213)]);}if(_0x47c35e[_0x1c3879(0x1eb)]<0x2)return;_0x47c35e[_0x1c3879(0x20f)](0x0,0x2);const _0x4a6d51=new opencv4nodejs_1[(_0x1c3879(0x1e5))](_0x153612[_0x47c35e[0x0][_0x1c3879(0x1d8)]]['pt']['x']-_0x153612[_0x47c35e[0x1][_0x1c3879(0x1d8)]]['pt']['x'],_0x153612[_0x47c35e[0x0][_0x1c3879(0x1d8)]]['pt']['y']-_0x153612[_0x47c35e[0x1][_0x1c3879(0x1d8)]]['pt']['y'])['norm']()/new opencv4nodejs_1[(_0x1c3879(0x1e5))](_0x58a690[_0x47c35e[0x0][_0x1c3879(0x1f1)]]['pt']['x']-_0x58a690[_0x47c35e[0x1][_0x1c3879(0x1f1)]]['pt']['x'],_0x58a690[_0x47c35e[0x0][_0x1c3879(0x1f1)]]['pt']['y']-_0x58a690[_0x47c35e[0x1][_0x1c3879(0x1f1)]]['pt']['y'])[_0x1c3879(0x1db)](),_0x569c52=new opencv4nodejs_1[(_0x1c3879(0x1e5))](0x12c-_0x58a690[_0x47c35e[0x0][_0x1c3879(0x1f1)]]['pt']['x'],0x12c-_0x58a690[_0x47c35e[0x0]['queryIdx']]['pt']['y'])[_0x1c3879(0x205)](_0x4a6d51)[_0x1c3879(0x211)](new opencv4nodejs_1[(_0x1c3879(0x1e5))](_0x153612[_0x47c35e[0x0][_0x1c3879(0x1d8)]]['pt']['x'],_0x153612[_0x47c35e[0x0][_0x1c3879(0x1d8)]]['pt']['y'])),{x:_0x29b995,y:_0x46749d}=_0x569c52;return _0x1c3879(0x220)+Math[_0x1c3879(0x1d7)]((_0x46749d-_0x5cb45a['y'])*0x64)/0x64+','+Math[_0x1c3879(0x1d7)]((_0x29b995-_0x5cb45a['x'])*0x64)/0x64;}),sendClient=(_0x16faef,_0x386806)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x553e66=a2_0x758a51,_0x570309=yield findMap(_0x386806)[_0x553e66(0x1d5)](_0x5f880f=>{});if(!_0x570309)return;_0x16faef[_0x553e66(0x1dd)](_0x570309);});wss['on'](a2_0x758a51(0x1df),_0x5823bd=>{const _0x5d6d31=a2_0x758a51;_0x5823bd['on'](_0x5d6d31(0x1dc),_0x57d532=>{const _0x2698a9=_0x5d6d31;clientDimension=_0x57d532[_0x2698a9(0x201)](),void sendClient(_0x5823bd,dimensions[+clientDimension]);});});