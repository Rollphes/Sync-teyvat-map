'use strict';const a2_0x3043a2=a2_0x19c1;(function(_0x42ef44,_0x3a3bcf){const _0x30de09=a2_0x19c1,_0x43e3fa=_0x42ef44();while(!![]){try{const _0x4c12cc=-parseInt(_0x30de09(0x187))/0x1*(parseInt(_0x30de09(0x1b3))/0x2)+parseInt(_0x30de09(0x19a))/0x3*(parseInt(_0x30de09(0x1bd))/0x4)+parseInt(_0x30de09(0x1cb))/0x5+parseInt(_0x30de09(0x1ad))/0x6*(-parseInt(_0x30de09(0x189))/0x7)+-parseInt(_0x30de09(0x18c))/0x8*(-parseInt(_0x30de09(0x197))/0x9)+parseInt(_0x30de09(0x1c2))/0xa*(parseInt(_0x30de09(0x17f))/0xb)+-parseInt(_0x30de09(0x1be))/0xc*(parseInt(_0x30de09(0x1bf))/0xd);if(_0x4c12cc===_0x3a3bcf)break;else _0x43e3fa['push'](_0x43e3fa['shift']());}catch(_0x54e9d9){_0x43e3fa['push'](_0x43e3fa['shift']());}}}(a2_0x2813,0x4a799));var __createBinding=this&&this[a2_0x3043a2(0x1bc)]||(Object[a2_0x3043a2(0x18b)]?function(_0x4bb36d,_0x3713cf,_0x393e14,_0xa9620c){const _0x5193d7=a2_0x3043a2;if(_0xa9620c===undefined)_0xa9620c=_0x393e14;var _0x467e5d=Object['getOwnPropertyDescriptor'](_0x3713cf,_0x393e14);(!_0x467e5d||(_0x5193d7(0x1c0)in _0x467e5d?!_0x3713cf[_0x5193d7(0x181)]:_0x467e5d[_0x5193d7(0x186)]||_0x467e5d[_0x5193d7(0x191)]))&&(_0x467e5d={'enumerable':!![],'get':function(){return _0x3713cf[_0x393e14];}}),Object[_0x5193d7(0x190)](_0x4bb36d,_0xa9620c,_0x467e5d);}:function(_0x4b6e3e,_0x28640c,_0x576107,_0x3a3fe6){if(_0x3a3fe6===undefined)_0x3a3fe6=_0x576107;_0x4b6e3e[_0x3a3fe6]=_0x28640c[_0x576107];}),__setModuleDefault=this&&this[a2_0x3043a2(0x193)]||(Object['create']?function(_0x40b6ca,_0x492598){const _0x2e222f=a2_0x3043a2;Object[_0x2e222f(0x190)](_0x40b6ca,_0x2e222f(0x194),{'enumerable':!![],'value':_0x492598});}:function(_0x58e8fe,_0x1f0a4e){_0x58e8fe['default']=_0x1f0a4e;}),__importStar=this&&this['__importStar']||function(_0xb1cbb0){const _0x3e9d99=a2_0x3043a2;if(_0xb1cbb0&&_0xb1cbb0[_0x3e9d99(0x181)])return _0xb1cbb0;var _0x38c7d3={};if(_0xb1cbb0!=null){for(var _0x4e26ae in _0xb1cbb0)if(_0x4e26ae!==_0x3e9d99(0x194)&&Object[_0x3e9d99(0x1ca)][_0x3e9d99(0x1a6)]['call'](_0xb1cbb0,_0x4e26ae))__createBinding(_0x38c7d3,_0xb1cbb0,_0x4e26ae);}return __setModuleDefault(_0x38c7d3,_0xb1cbb0),_0x38c7d3;},__awaiter=this&&this[a2_0x3043a2(0x1a4)]||function(_0x16865e,_0xa638c2,_0x20521f,_0x48c7c4){function _0x19bf8d(_0x418381){return _0x418381 instanceof _0x20521f?_0x418381:new _0x20521f(function(_0x4f2413){_0x4f2413(_0x418381);});}return new(_0x20521f||(_0x20521f=Promise))(function(_0x15963b,_0x5cd973){const _0x43496d=a2_0x19c1;function _0x59ed5e(_0x515077){const _0x110df2=a2_0x19c1;try{_0x16c576(_0x48c7c4[_0x110df2(0x1a2)](_0x515077));}catch(_0x2b660c){_0x5cd973(_0x2b660c);}}function _0x26306a(_0x4aa58b){const _0x2d45ed=a2_0x19c1;try{_0x16c576(_0x48c7c4[_0x2d45ed(0x198)](_0x4aa58b));}catch(_0x7bf098){_0x5cd973(_0x7bf098);}}function _0x16c576(_0xb48d5){const _0x32274f=a2_0x19c1;_0xb48d5['done']?_0x15963b(_0xb48d5[_0x32274f(0x19c)]):_0x19bf8d(_0xb48d5[_0x32274f(0x19c)])['then'](_0x59ed5e,_0x26306a);}_0x16c576((_0x48c7c4=_0x48c7c4['apply'](_0x16865e,_0xa638c2||[]))[_0x43496d(0x1a2)]());});},__importDefault=this&&this['__importDefault']||function(_0x3e8d55){const _0x1eb165=a2_0x3043a2;return _0x3e8d55&&_0x3e8d55[_0x1eb165(0x181)]?_0x3e8d55:{'default':_0x3e8d55};};function a2_0x19c1(_0x243a9b,_0x48ec4b){const _0x2813da=a2_0x2813();return a2_0x19c1=function(_0x19c16f,_0x31f771){_0x19c16f=_0x19c16f-0x17b;let _0x350e1c=_0x2813da[_0x19c16f];return _0x350e1c;},a2_0x19c1(_0x243a9b,_0x48ec4b);}function a2_0x2813(){const _0x5a423d=['4228lWKpOy','class_id','minDeg','angle','WebSocketServer','distance','response','IMREAD_GRAYSCALE','center=','__createBinding','311596wQgvcd','14724EBtpXd','5343oGQOFO','get','slice','1131700RXswOa','queryIdx','name','utf-8','abs','descriptorMatchsJ','sort','message','prototype','130005uhhdtf','NORM_HAMMING2','computeAsync','parse','opencvBinDir','mul','Mat','44JBndOP','rows','__esModule','@u4/opencv-build','floor','length','enkanomiya','writable','66iLXowN','KeyPoint','59871uBeMwa','connection','create','8WrNZNH','OPENCV_BIN_DIR','Rect','Point2','defineProperty','configurable','trainIdx','__setModuleDefault','default','norm','data\x5c','4951683HxdrQt','throw','ImgKeyPoints.dat','18gjqIqG','send','value','octave','BFMatcher','split','@u4/opencv4nodejs','push','next','map','__awaiter','env','hasOwnProperty','OpenCVBuildEnv','atan','detectAsync','img\x5ct.png','descriptorMatchsI','imreadAsync','384fazwHM','getRegion','Vec2','path','match','AKAZEDetector'];a2_0x2813=function(){return _0x5a423d;};return a2_0x2813();}Object[a2_0x3043a2(0x190)](exports,a2_0x3043a2(0x181),{'value':!![]});const opencvBuild=__importStar(require(a2_0x3043a2(0x182))),cv=__importStar(require(a2_0x3043a2(0x1a0))),opencv4nodejs_1=require('@u4/opencv4nodejs'),fs=__importStar(require('fs')),screenshot_desktop_1=__importDefault(require('screenshot-desktop')),ws_1=require('ws');process[a2_0x3043a2(0x1a5)][a2_0x3043a2(0x18d)]=new opencvBuild[(a2_0x3043a2(0x1a7))]()[a2_0x3043a2(0x17c)],process['env'][a2_0x3043a2(0x1b0)]+=';'+new opencvBuild[(a2_0x3043a2(0x1a7))]()[a2_0x3043a2(0x17c)];const homePath=__dirname['split']('dist')[0x0],resourcesPath=homePath[a2_0x3043a2(0x19f)]('app')[0x0],akaze=new opencv4nodejs_1[(a2_0x3043a2(0x1b2))](),wss=new ws_1[(a2_0x3043a2(0x1b7))]({'port':0x6cfc}),dimensions={0x2:{'name':a2_0x3043a2(0x1a3),'x':0x1b5a,'y':0x466},0x7:{'name':a2_0x3043a2(0x185),'x':0x745,'y':0x6f7},0x9:{'name':'sougan','x':0x7eb,'y':0x7a6}};let clientDimension='2';const findMap=_0x411676=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5becf2=a2_0x3043a2;yield(0x0,screenshot_desktop_1['default'])({'filename':resourcesPath+_0x5becf2(0x1aa)});const _0x2d0d64=yield cv[_0x5becf2(0x1ac)](resourcesPath+_0x5becf2(0x1aa),cv[_0x5becf2(0x1ba)]),_0x652f83=new cv[(_0x5becf2(0x18e))](Math[_0x5becf2(0x183)](_0x2d0d64['cols']*0.03125),Math[_0x5becf2(0x183)](_0x2d0d64[_0x5becf2(0x180)]*0.01851),Math[_0x5becf2(0x183)](_0x2d0d64[_0x5becf2(0x180)]*0.19444),Math[_0x5becf2(0x183)](_0x2d0d64[_0x5becf2(0x180)]*0.19444)),_0x48d005=_0x2d0d64[_0x5becf2(0x1ae)](_0x652f83)['resize'](0x258,0x258),_0x97cc92=yield akaze[_0x5becf2(0x1a9)](_0x48d005),_0x22a7ed=yield akaze[_0x5becf2(0x1cd)](_0x48d005,_0x97cc92),_0x547840=JSON['parse'](fs['readFileSync'](resourcesPath+('data\x5c'+_0x411676[_0x5becf2(0x1c4)]+_0x5becf2(0x199)),'utf-8'))['map'](_0x16951f=>new cv[(_0x5becf2(0x188))](new cv[(_0x5becf2(0x18f))](_0x16951f['pt']['x'],_0x16951f['pt']['y']),_0x16951f['size'],_0x16951f[_0x5becf2(0x1b6)],_0x16951f[_0x5becf2(0x1b9)],_0x16951f[_0x5becf2(0x19d)],_0x16951f[_0x5becf2(0x1b4)])),_0xed7c75=new cv[(_0x5becf2(0x17e))](JSON[_0x5becf2(0x17b)](fs['readFileSync'](resourcesPath+(_0x5becf2(0x196)+_0x411676['name']+'ImgDescriptors.dat'),_0x5becf2(0x1c5))),0x0),_0x3adc1b=new cv[(_0x5becf2(0x19e))](cv[_0x5becf2(0x1cc)]),_0x3d2382=_0x3adc1b[_0x5becf2(0x1b1)](_0x22a7ed,_0xed7c75);if(_0x3d2382[_0x5becf2(0x184)]===0x0)return;const _0x16e494=0x28,_0x1b71d6=_0x3d2382[_0x5becf2(0x1c8)]((_0x1ba0a7,_0x5df894)=>_0x1ba0a7['distance']-_0x5df894[_0x5becf2(0x1b8)])['slice'](0x0,_0x16e494),_0x22c615=[];for(let _0x576a3a=0x0;_0x576a3a<_0x1b71d6[_0x5becf2(0x184)]-0x1;_0x576a3a++){const _0x1bb0f3={'minDeg':0x168,'descriptorMatchsI':_0x1b71d6[_0x576a3a]};for(let _0x37c652=_0x576a3a+0x1;_0x37c652<_0x1b71d6[_0x5becf2(0x184)];_0x37c652++){if(_0x576a3a==_0x37c652)continue;const _0x5a9032=Math[_0x5becf2(0x1a8)]((_0x547840[_0x1b71d6[_0x576a3a][_0x5becf2(0x192)]]['pt']['y']-_0x547840[_0x1b71d6[_0x37c652][_0x5becf2(0x192)]]['pt']['y'])/(_0x547840[_0x1b71d6[_0x576a3a][_0x5becf2(0x192)]]['pt']['x']-_0x547840[_0x1b71d6[_0x37c652]['trainIdx']]['pt']['x'])),_0xef88cc=Math['atan']((_0x97cc92[_0x1b71d6[_0x576a3a][_0x5becf2(0x1c3)]]['pt']['y']-_0x97cc92[_0x1b71d6[_0x37c652]['queryIdx']]['pt']['y'])/(_0x97cc92[_0x1b71d6[_0x576a3a][_0x5becf2(0x1c3)]]['pt']['x']-_0x97cc92[_0x1b71d6[_0x37c652][_0x5becf2(0x1c3)]]['pt']['x']));let _0x1cd043=_0x5a9032*(0xb4/Math['PI'])%0x168,_0x4362ac=_0xef88cc*(0xb4/Math['PI'])%0x168;_0x1cd043=_0x1cd043<0x0?0x168+_0x1cd043:_0x1cd043,_0x4362ac=_0x4362ac<0x0?0x168+_0x4362ac:_0x4362ac;const _0x5de5ca=Math[_0x5becf2(0x1c6)](_0x1cd043-_0x4362ac);if(isNaN(_0x5de5ca))continue;_0x1bb0f3[_0x5becf2(0x1b5)]>_0x5de5ca&&(_0x1bb0f3['descriptorMatchsJ']=_0x1b71d6[_0x37c652],_0x1bb0f3[_0x5becf2(0x1b5)]=_0x5de5ca);}if(_0x1bb0f3[_0x5becf2(0x1b5)]>0.1||_0x1bb0f3[_0x5becf2(0x1ab)][_0x5becf2(0x1b8)]>0x32)continue;_0x22c615[_0x5becf2(0x1a1)](_0x1bb0f3['descriptorMatchsI']);if(_0x1bb0f3[_0x5becf2(0x1c7)]===undefined||_0x1bb0f3[_0x5becf2(0x1c7)][_0x5becf2(0x1b8)]>0x32)continue;_0x22c615[_0x5becf2(0x1a1)](_0x1bb0f3[_0x5becf2(0x1c7)]);}if(_0x22c615[_0x5becf2(0x184)]<0x2)return;_0x22c615[_0x5becf2(0x1c1)](0x0,0x2);const _0x52bb2c=new opencv4nodejs_1[(_0x5becf2(0x1af))](_0x547840[_0x22c615[0x0][_0x5becf2(0x192)]]['pt']['x']-_0x547840[_0x22c615[0x1][_0x5becf2(0x192)]]['pt']['x'],_0x547840[_0x22c615[0x0][_0x5becf2(0x192)]]['pt']['y']-_0x547840[_0x22c615[0x1][_0x5becf2(0x192)]]['pt']['y'])[_0x5becf2(0x195)]()/new opencv4nodejs_1[(_0x5becf2(0x1af))](_0x97cc92[_0x22c615[0x0][_0x5becf2(0x1c3)]]['pt']['x']-_0x97cc92[_0x22c615[0x1][_0x5becf2(0x1c3)]]['pt']['x'],_0x97cc92[_0x22c615[0x0][_0x5becf2(0x1c3)]]['pt']['y']-_0x97cc92[_0x22c615[0x1]['queryIdx']]['pt']['y'])['norm'](),_0x28191b=new opencv4nodejs_1[(_0x5becf2(0x1af))](0x12c-_0x97cc92[_0x22c615[0x0]['queryIdx']]['pt']['x'],0x12c-_0x97cc92[_0x22c615[0x0]['queryIdx']]['pt']['y'])[_0x5becf2(0x17d)](_0x52bb2c)['add'](new opencv4nodejs_1[(_0x5becf2(0x1af))](_0x547840[_0x22c615[0x0][_0x5becf2(0x192)]]['pt']['x'],_0x547840[_0x22c615[0x0][_0x5becf2(0x192)]]['pt']['y'])),{x:_0x2ab63f,y:_0x1a93dc}=_0x28191b;return _0x5becf2(0x1bb)+Math['floor']((_0x1a93dc-_0x411676['y'])*0x64)/0x64+','+Math[_0x5becf2(0x183)]((_0x2ab63f-_0x411676['x'])*0x64)/0x64;}),sendClient=(_0x418aba,_0x3e7312)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2af654=a2_0x3043a2,_0x13ec33=yield findMap(_0x3e7312)['catch'](_0x1777b9=>{});if(!_0x13ec33)return;_0x418aba[_0x2af654(0x19b)](_0x13ec33);});wss['on'](a2_0x3043a2(0x18a),_0x2e3f5b=>{const _0x5d9be2=a2_0x3043a2;_0x2e3f5b['on'](_0x5d9be2(0x1c9),_0x3ca7fa=>{clientDimension=_0x3ca7fa['toString'](),void sendClient(_0x2e3f5b,dimensions[+clientDimension]);});});